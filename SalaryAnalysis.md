107-2 大數據分析方法 作業一
================
陳彥誠

搞不清楚各行各業的薪資差異嗎? 念研究所到底對第一份工作的薪資影響有多大? CP值高嗎? 透過分析**初任人員平均經常性薪資**- [開放資料連結](https://data.gov.tw/dataset/6647)，可初步了解台灣近幾年各行各業、各學歷的起薪。

比較103年度和106年度大學畢業者的薪資資料
----------------------------------------

### 資料匯入與處理

``` r
library(readr)
```

    ## Warning: package 'readr' was built under R version 3.5.3

``` r
library(dplyr)
```

    ## Warning: package 'dplyr' was built under R version 3.5.3

    ## 
    ## Attaching package: 'dplyr'

    ## The following objects are masked from 'package:stats':
    ## 
    ##     filter, lag

    ## The following objects are masked from 'package:base':
    ## 
    ##     intersect, setdiff, setequal, union

``` r
Y103 <- read_csv("C:/Users/user/Desktop/103年各教育程度別初任人員經常性薪資─按大職類分.csv")
```

    ## Parsed with column specification:
    ## cols(
    ##   年度 = col_double(),
    ##   大職業別 = col_character(),
    ##   `經常性薪資-薪資` = col_double(),
    ##   `經常性薪資-女/男` = col_double(),
    ##   `國中及以下-薪資` = col_character(),
    ##   `國中及以下-女/男` = col_character(),
    ##   `高中或高職-薪資` = col_character(),
    ##   `高中或高職-女/男` = col_character(),
    ##   `專科-薪資` = col_character(),
    ##   `專科-女/男` = col_character(),
    ##   `大學-薪資` = col_character(),
    ##   `大學-女/男` = col_character(),
    ##   `研究所及以上-薪資` = col_character(),
    ##   `研究所及以上-女/男` = col_character()
    ## )

``` r
Y104 <- read_csv("C:/Users/user/Desktop/104年各教育程度別初任人員經常性薪資─按大職類分.csv")
```

    ## Parsed with column specification:
    ## cols(
    ##   年度 = col_double(),
    ##   大職業別 = col_character(),
    ##   `經常性薪資-薪資` = col_double(),
    ##   `經常性薪資-女/男` = col_character(),
    ##   `國中及以下-薪資` = col_character(),
    ##   `國中及以下-女/男` = col_character(),
    ##   `高中或高職-薪資` = col_character(),
    ##   `高中或高職-女/男` = col_character(),
    ##   `專科-薪資` = col_character(),
    ##   `專科-女/男` = col_character(),
    ##   `大學-薪資` = col_character(),
    ##   `大學-女/男` = col_character(),
    ##   `研究所及以上-薪資` = col_character(),
    ##   `研究所及以上-女/男` = col_character()
    ## )

``` r
Y105 <- read_csv("C:/Users/user/Desktop/105年各教育程度別初任人員每人每月經常性薪資─按大職類分.csv")
```

    ## Parsed with column specification:
    ## cols(
    ##   年度 = col_double(),
    ##   大職業別 = col_character(),
    ##   `經常性薪資-薪資` = col_double(),
    ##   `經常性薪資-女/男` = col_character(),
    ##   `國中及以下-薪資` = col_character(),
    ##   `國中及以下-女/男` = col_character(),
    ##   `高中或高職-薪資` = col_character(),
    ##   `高中或高職-女/男` = col_character(),
    ##   `專科-薪資` = col_character(),
    ##   `專科-女/男` = col_character(),
    ##   `大學-薪資` = col_character(),
    ##   `大學-女/男` = col_character(),
    ##   `研究所及以上-薪資` = col_character(),
    ##   `研究所及以上-女/男` = col_character()
    ## )

``` r
Y106 <- read_csv("C:/Users/user/Desktop/106年各教育程度別初任人員每人每月經常性薪資─按大職類分.csv")
```

    ## Parsed with column specification:
    ## cols(
    ##   年度 = col_double(),
    ##   大職業別 = col_character(),
    ##   `經常性薪資-薪資` = col_double(),
    ##   `經常性薪資-女/男` = col_character(),
    ##   `國中及以下-薪資` = col_character(),
    ##   `國中及以下-女/男` = col_character(),
    ##   `高中或高職-薪資` = col_character(),
    ##   `高中或高職-女/男` = col_character(),
    ##   `專科-薪資` = col_character(),
    ##   `專科-女/男` = col_character(),
    ##   `大學-薪資` = col_character(),
    ##   `大學-女/男` = col_character(),
    ##   `研究所及以上-薪資` = col_character(),
    ##   `研究所及以上-女/男` = col_character()
    ## )

### 106年度薪資較103年度薪資高的職業有哪些?

``` r
Y106$大職業別<-gsub("_","、",Y106$大職業別)

AllData<-full_join(Y103,Y106,by="大職業別")

AllData$`大學-薪資.x`<-gsub("—|…","",AllData$`大學-薪資.x`)
AllData$`大學-薪資.y`<-gsub("—|…","",AllData$`大學-薪資.y`)
AllData$`大學-薪資.x`<-as.numeric(AllData$`大學-薪資.x`)
AllData$`大學-薪資.y`<-as.numeric(AllData$`大學-薪資.y`)

AllData$rate<-(AllData$`大學-薪資.y`/AllData$`大學-薪資.x`)
AllData<-arrange(AllData,desc(rate))
knitr::kable(head(select(AllData,大職業別,rate),10))
```

| 大職業別                                  |      rate|
|:------------------------------------------|---------:|
| 其他服務業-技術員及助理專業人員           |  1.131278|
| 住宿及餐飲業-服務及銷售工作人員           |  1.129498|
| 用水供應及污染整治業-技術員及助理專業人員 |  1.129402|
| 專業、科學及技術服務業-專業人員           |  1.113654|
| 其他服務業-技藝、機械設備操作及組裝人員   |  1.109735|
| 營造業-服務及銷售工作人員                 |  1.109005|
| 其他服務業-專業人員                       |  1.103448|
| 資訊及通訊傳播業-專業人員                 |  1.103263|
| 不動產業-專業人員                         |  1.097758|
| 教育服務業-事務支援人員                   |  1.095684|

此表為「大學畢業者」106年度薪資較103年度薪資高的職業前十名資料，由大到小之薪資比排序。
（「大職業別」為其職業、「rate」為106年與103年之薪資比）

### 提高超過5%的的職業有哪些?

``` r
knitr::kable(filter(AllData,rate>1.05) %>% select(大職業別))
```

| 大職業別                                            |
|:----------------------------------------------------|
| 其他服務業-技術員及助理專業人員                     |
| 住宿及餐飲業-服務及銷售工作人員                     |
| 用水供應及污染整治業-技術員及助理專業人員           |
| 專業、科學及技術服務業-專業人員                     |
| 其他服務業-技藝、機械設備操作及組裝人員             |
| 營造業-服務及銷售工作人員                           |
| 其他服務業-專業人員                                 |
| 資訊及通訊傳播業-專業人員                           |
| 不動產業-專業人員                                   |
| 教育服務業-事務支援人員                             |
| 住宿及餐飲業-技術員及助理專業人員                   |
| 專業、科學及技術服務業-技藝、機械設備操作及組裝人員 |
| 運輸及倉儲業-技藝、機械設備操作及組裝人員           |
| 其他服務業-事務支援人員                             |
| 教育服務業-服務及銷售工作人員                       |
| 用水供應及污染整治業                                |
| 用水供應及污染整治業-專業人員                       |
| 資訊及通訊傳播業                                    |
| 支援服務業-服務及銷售工作人員                       |
| 藝術、娛樂及休閒服務業-技藝、機械設備操作及組裝人員 |
| 資訊及通訊傳播業-事務支援人員                       |
| 教育服務業                                          |
| 營造業-專業人員                                     |
| 專業、科學及技術服務業                              |
| 支援服務業-技藝、機械設備操作及組裝人員             |
| 住宿及餐飲業                                        |
| 住宿及餐飲業-技藝、機械設備操作及組裝人員           |
| 電力及燃氣供應業-服務及銷售工作人員                 |
| 運輸及倉儲業-技術員及助理專業人員                   |
| 運輸及倉儲業-事務支援人員                           |
| 醫療保健服務業-技術員及助理專業人員                 |
| 專業、科學及技術服務業-技術員及助理專業人員         |
| 支援服務業-技術員及助理專業人員                     |
| 用水供應及污染整治業-服務及銷售工作人員             |
| 礦業及土石採取業-技藝、機械設備操作及組裝人員       |
| 用水供應及污染整治業-技藝、機械設備操作及組裝人員   |
| 服務業部門-技藝、機械設備操作及組裝人員             |
| 教育服務業-技術員及助理專業人員                     |
| 服務業部門-專業人員                                 |
| 運輸及倉儲業                                        |
| 資訊及通訊傳播業-技術員及助理專業人員               |
| 醫療保健服務業-技藝、機械設備操作及組裝人員         |
| 用水供應及污染整治業-事務支援人員                   |
| 金融及保險業-事務支援人員                           |
| 服務業部門-技術員及助理專業人員                     |
| 藝術、娛樂及休閒服務業-事務支援人員                 |
| 藝術、娛樂及休閒服務業                              |
| 營造業-事務支援人員                                 |
| 工業及服務業部門-專業人員                           |
| 服務業部門-事務支援人員                             |
| 電力及燃氣供應業-技藝、機械設備操作及組裝人員       |
| 教育服務業-專業人員                                 |
| 專業、科學及技術服務業-服務及銷售工作人員           |
| 服務業部門                                          |
| 其他服務業                                          |
| 製造業-專業人員                                     |
| 工業部門-專業人員                                   |
| 資訊及通訊傳播業-服務及銷售工作人員                 |

### 主要的職業種別是哪些種類呢?

``` r
FivePercent<-filter(AllData,rate>1.05) %>% select(大職業別)
knitr::kable(table(gsub("-[\u2E80-\u9FFF]+","",FivePercent$大職業別)))
```

| Var1                   |  Freq|
|:-----------------------|-----:|
| 工業及服務業部門       |     1|
| 工業部門               |     1|
| 不動產業               |     1|
| 支援服務業             |     3|
| 用水供應及污染整治業   |     6|
| 住宿及餐飲業           |     4|
| 其他服務業             |     5|
| 服務業部門             |     5|
| 金融及保險業           |     1|
| 專業、科學及技術服務業 |     5|
| 教育服務業             |     5|
| 資訊及通訊傳播業       |     5|
| 運輸及倉儲業           |     4|
| 電力及燃氣供應業       |     2|
| 製造業                 |     1|
| 營造業                 |     3|
| 醫療保健服務業         |     2|
| 藝術、娛樂及休閒服務業 |     3|
| 礦業及土石採取業       |     1|

男女同工不同酬現況分析
----------------------

男女同工不同酬一直是性別平等中很重要的問題，分析資料來源為103到106年度的大學畢業薪資。

### 103到106年度的大學畢業薪資資料，哪些行業男生薪資比女生薪資多?

``` r
FourYears<-data.frame(Y103=Y103$`大學-女/男`,
                      Y104=Y104$`大學-女/男`,
                      Y105=Y105$`大學-女/男`,
                      Y106=Y106$`大學-女/男`)

FourYears$Y103<-gsub("—|…","",FourYears$Y103)
FourYears$Y103<-as.numeric(FourYears$Y103)
FourYears$Y104<-gsub("—|…","",FourYears$Y104)
FourYears$Y104<-as.numeric(FourYears$Y104)
FourYears$Y105<-gsub("—|…","",FourYears$Y105)
FourYears$Y105<-as.numeric(FourYears$Y105)
FourYears$Y106<-gsub("—|…","",FourYears$Y106)
FourYears$Y106<-as.numeric(FourYears$Y106)

FourYears<-data.frame(大職業別=Y103$大職業別,
                      Y103女男比=Y103$`大學-女/男`,
                      Y104女男比=Y104$`大學-女/男`,
                      Y105女男比=Y105$`大學-女/男`,
                      Y106女男比=Y106$`大學-女/男`,
                      mean女男比=rowMeans(FourYears,na.rm = T))

knitr::kable(head(arrange(FourYears,mean女男比),10))
```

| 大職業別                                      | Y103女男比 | Y104女男比 | Y105女男比 | Y106女男比 | mean女男比 |
|:----------------------------------------------|:-----------|:-----------|:-----------|:-----------|:----------:|
| 教育服務業-技藝、機械設備操作及組裝人員       | 88.49      | …          | …          | —          |   88.4900  |
| 礦業及土石採取業-技藝、機械設備操作及組裝人員 | 84.97      | 93.1       | 99.18      | 96.91      |   93.5400  |
| 電力及燃氣供應業-技藝、機械設備操作及組裝人員 | 91.77      | 91.69      | 98.2       | 95.51      |   94.2925  |
| 營造業                                        | 95.58      | 96.35      | 95.78      | 96.71      |   96.1050  |
| 其他服務業-技術員及助理專業人員               | 89.36      | 98.94      | 99.37      | 96.84      |   96.1275  |
| 礦業及土石採取業-服務及銷售工作人員           | 92.57      | —          | 100        | —          |   96.2850  |
| 其他服務業                                    | 96.21      | 96.84      | 96.72      | 96.57      |   96.5850  |
| 其他服務業-事務支援人員                       | 97.26      | 95.47      | 97.48      | 96.23      |   96.6100  |
| 礦業及土石採取業                              | 96.27      | 95.28      | 97.7       | 97.41      |   96.6650  |
| 教育服務業-服務及銷售工作人員                 | 98.15      | 91.9       | 100        | 97.53      |   96.8950  |

### 哪些行業女生薪資比男生薪資多?

``` r
head(arrange(filter(FourYears,mean女男比>100),desc(mean女男比)),10)
```

    ## [1] 大職業別   Y103女男比 Y104女男比 Y105女男比 Y106女男比 mean女男比
    ## <0 rows> (or 0-length row.names)

由上可知大學畢業生中，**男生薪資較女生高**的職業前十名，由差異多至少排列；
另外**女生薪資較男生高**的表中並無資料，可知男女同工不同酬的問題嚴重存在！

研究所薪資差異
--------------

以106年度的資料來看，哪個職業別念研究所最划算呢 (研究所學歷薪資與大學學歷薪資增加比例最多)?

``` r
Y106$`大學-薪資`<-gsub("—|…","",Y106$`大學-薪資`)
Y106$`大學-薪資`<-as.numeric(Y106$`大學-薪資`)
Y106$`研究所及以上-薪資`<-gsub("—|…","",Y106$`研究所及以上-薪資`)
Y106$`研究所及以上-薪資`<-as.numeric(Y106$`研究所及以上-薪資`)

Y106$研究所比大學<-Y106$`研究所及以上-薪資`/Y106$`大學-薪資`
Y106<-arrange(Y106,desc(研究所比大學))
knitr::kable(head(select(Y106,大職業別,研究所比大學),10))
```

| 大職業別                            | 研究所比大學 |
|:------------------------------------|:------------:|
| 礦業及土石採取業-事務支援人員       |   1.208946   |
| 專業、科學及技術服務業              |   1.202982   |
| 其他服務業-技術員及助理專業人員     |   1.199470   |
| 專業、科學及技術服務業-事務支援人員 |   1.192306   |
| 批發及零售業                        |   1.191916   |
| 製造業                              |   1.188350   |
| 藝術、娛樂及休閒服務業-事務支援人員 |   1.187705   |
| 工業部門                            |   1.183455   |
| 工業及服務業部門                    |   1.182346   |
| 服務業部門                          |   1.181334   |

上表為106年**研究所薪資**較**大學薪資**高之前十名，以薪資比大至小排序。
可看出越專業越技術之職業，更需研究所之學歷。

我有興趣的職業別薪資狀況分析
----------------------------

### 有興趣的職業別篩選，呈現薪資

``` r
like<-filter(Y106,大職業別=="工業部門-專業人員"|
       大職業別=="資訊及通訊傳播業-專業人員"|
       大職業別=="專業、科學及技術服務業-專業人員"|
       大職業別=="教育服務業-專業人員"|
       大職業別=="醫療保健服務業-專業人員")
knitr::kable(select(like,大職業別,`大學-薪資`,`研究所及以上-薪資`))
```

| 大職業別                        | 大學-薪資 | 研究所及以上-薪資 |
|:--------------------------------|:---------:|:-----------------:|
| 工業部門-專業人員               |   31775   |       36640       |
| 專業、科學及技術服務業-專業人員 |   33384   |       38415       |
| 資訊及通訊傳播業-專業人員       |   31817   |       36545       |
| 教育服務業-專業人員             |   27101   |       30658       |
| 醫療保健服務業-專業人員         |   34733   |       38153       |

### 這些職業別研究所薪資與大學薪資差多少呢？

``` r
like$研究所與大學薪資差<-like$`研究所及以上-薪資`-like$`大學-薪資`
knitr::kable(select(like,大職業別,`大學-薪資`,`研究所及以上-薪資`,研究所與大學薪資差))
```

| 大職業別                        | 大學-薪資 | 研究所及以上-薪資 | 研究所與大學薪資差 |
|:--------------------------------|:---------:|:-----------------:|:------------------:|
| 工業部門-專業人員               |   31775   |       36640       |        4865        |
| 專業、科學及技術服務業-專業人員 |   33384   |       38415       |        5031        |
| 資訊及通訊傳播業-專業人員       |   31817   |       36545       |        4728        |
| 教育服務業-專業人員             |   27101   |       30658       |        3557        |
| 醫療保健服務業-專業人員         |   34733   |       38153       |        3420        |

以上為有興趣之職業別與薪資情況。
薪資情況與我的想像符合，有無念研究所的薪資差異也在預想之內，
可看出研究所薪水還是高出許多，所以並不會改變我念研究所的想法。
